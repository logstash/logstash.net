<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>Getting Started with Logstash</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Getting Started with Logstash</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>Logstash is a tool for receiving, processing and outputting logs. All kinds of logs. System logs, webserver logs, error logs, application logs and just about anything you can throw at it. Sounds great, eh?</p></div>
<div class="paragraph"><p>Using Elasticsearch as a backend datastore, and kibana as a frontend reporting tool, Logstash acts as the workhorse, creating a powerful pipeline for storing, querying and analyzing your logs. With an arsenal of built-in inputs, filters, codecs and outputs, you can harness some powerful functionality with a small amount of effort. So, let&#8217;s get started!</p></div>
<div class="sect2">
<h3 id="_prerequisite_java">Prerequisite: Java</h3>
<div class="paragraph"><p>The only prerequisite required by logstash is a Java runtime. You can check that you have it installed by running the  command <code>java -version</code> in your shell. Here&#8217;s something similar to what you might see:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>&gt; java -version
java version "1.7.0_45"
Java(TM) SE Runtime Environment (build 1.7.0_45-b18)
Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)</code></pre>
</div></div>
<div class="paragraph"><p>It is recommended to run a recent version of Java in order to ensure the greatest success in running logstash.</p></div>
<div class="paragraph"><p>It&#8217;s fine to run an open-source version such as OpenJDK:<br />
<a href="http://openjdk.java.net/">http://openjdk.java.net/</a></p></div>
<div class="paragraph"><p>Or you can use the official Oracle version:<br />
<a href="http://www.oracle.com/technetwork/java/index.html">http://www.oracle.com/technetwork/java/index.html</a></p></div>
<div class="paragraph"><p>Once you have verified the existence of Java on your system, we can move on!</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_up_and_running">Up and Running!</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_logstash_in_two_commands">Logstash in two commands</h3>
<div class="paragraph"><p>First, we&#8217;re going to download the pre-built logstash binary and run it with a very simple configuration.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>curl -O https://download.elasticsearch.org/logstash/logstash/logstash-1.3.3-flatjar.jar</code></pre>
</div></div>
<div class="paragraph"><p>Now you should have the file named <em>logstash-1.3.3-flatjar.jar</em> on your local filesystem. Let&#8217;s run it:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -e 'input { stdin { } } output { stdout {} }'</code></pre>
</div></div>
<div class="paragraph"><p>Now type something into your command prompt, and you will see it output by logstash:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>hello world
2013-11-21T01:22:14.405+0000 0.0.0.0 hello world</code></pre>
</div></div>
<div class="paragraph"><p>OK, that&#8217;s interesting&#8230; We ran logstash with an input called "stdin", and an output named "stdout", and logstash basically echoed back whatever we typed in some sort of structured format. Note that specifying -e allows logstash to accept a configuration directly from the command line. This is especially useful for quickly testing configurations without having to edit a file between iterations.</p></div>
<div class="paragraph"><p>Let&#8217;s try a slightly fancier example. First, you should exit logstash by issuing a <em>CTRL-C</em> command in the shell in which it is running. Now run logstash again with the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -e 'input { stdin { } } output { stdout { codec =&gt; rubydebug } }'</code></pre>
</div></div>
<div class="paragraph"><p>And then try another test input, typing the text "goodnight moon":</p></div>
<div class="listingblock">
<div class="content">
<pre><code>goodnight moon
{
  "message" =&gt; "goodnight moon",
  "@timestamp" =&gt; "2013-11-20T23:48:05.335Z",
  "@version" =&gt; "1",
  "host" =&gt; "my-laptop"
}</code></pre>
</div></div>
<div class="paragraph"><p>So, by re-configuring the "stdout" output (adding a "codec"), we can change the output of logstash. By adding inputs, outputs and filters to your configuration, it&#8217;s possible to massage the log data in many ways, in order to maximize flexibility of the stored data when you are querying it.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_storing_logs_with_elasticsearch">Storing logs with Elasticsearch</h2>
<div class="sectionbody">
<div class="paragraph"><p>Now, you&#8217;re probably saying, "that&#8217;s all fine and dandy, but typing all my logs into logstash isn&#8217;t really an option, and merely seeing them spit to STDOUT isn&#8217;t very useful." Good point. First, let&#8217;s set up Elasticsearch to store the messages we send into logstash. If you don&#8217;t have Elasticearch already installed, you can <a href="http://www.elasticsearch.org/download/">download the RPM or DEB package</a>, or install manually by downloading the current release tarball, by issuing the following four commands:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>curl -O https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.90.10.tar.gz
tar zxvf elasticsearch-0.90.10.tar.gz
cd elasticsearch-0.90.10/
./bin/elasticsearch</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">This tutorial specifies running Logstash 1.3.3 with Elasticsearch 0.90.10. Each release of Logstash has a <strong>recommended</strong> version of Elasticsearch to pair with. Make sure the versions match based on the <a href="http://logstash.net/docs/latest">Logstash version</a> you&#8217;re running!</td>
</tr></table>
</div>
<div class="paragraph"><p>More detailed information on installing and configuring Elasticsearch can be found on <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/index.html">The Elasticsearch reference pages</a>. However, for the purposes of Getting Started with Logstash, the default installation and configuration of Elasticsearch should be sufficient.</p></div>
<div class="paragraph"><p>Now that we have Elasticsearch running on port 9200 (we do, right?), logstash can be simply configured to use Elasticsearch as its backend. The defaults for both logstash and Elasticsearch are fairly sane and well thought out, so we can omit the optional configurations within the elasticsearch output:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -e 'input { stdin { } } output { elasticsearch { host =&gt; localhost } }'</code></pre>
</div></div>
<div class="paragraph"><p>Type something, and logstash will process it as before (this time you won&#8217;t see any output, since we don&#8217;t have the stdout output configured)</p></div>
<div class="listingblock">
<div class="content">
<pre><code>you know, for logs</code></pre>
</div></div>
<div class="paragraph"><p>You can confirm that ES actually received the data by making a curl request and inspecting the return:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>curl 'http://localhost:9200/_search?pretty'</code></pre>
</div></div>
<div class="paragraph"><p>which should return something like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>{
  "took" : 2,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 1.0,
    "hits" : [ {
      "_index" : "logstash-2013.11.21",
      "_type" : "logs",
      "_id" : "2ijaoKqARqGvbMgP3BspJA",
      "_score" : 1.0, "_source" : {"message":"you know, for logs","@timestamp":"2013-11-21T18:45:09.862Z","@version":"1","host":"my-laptop"}
    } ]
  }
}</code></pre>
</div></div>
<div class="paragraph"><p>Congratulations! You&#8217;ve successfully stashed logs in Elasticsearch via logstash.</p></div>
<div class="sect2">
<h3 id="_elasticsearch_plugins_an_aside">Elasticsearch Plugins (an aside)</h3>
<div class="paragraph"><p>Another very useful tool for querying your logstash data (and Elasticsearch in general) is the Elasticsearch-kopf plugin. Here is more information on <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-plugins.html">Elasticsearch plugins</a>. To install elasticsearch-kopf, simply issue the following command in your Elasticsearch directory (the same one in which you ran Elasticsearch earlier):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>bin/plugin -install lmenezes/elasticsearch-kopf</code></pre>
</div></div>
<div class="paragraph"><p>Now you can browse to <a href="http://localhost:9200/_plugin/kopf">http://localhost:9200/_plugin/kopf</a> to browse your Elasticsearch data, settings and mappings!</p></div>
</div>
<div class="sect2">
<h3 id="_multiple_outputs">Multiple Outputs</h3>
<div class="paragraph"><p>As a quick exercise in configuring multiple Logstash outputs, let&#8217;s invoke logstash again, using both the <em>stdout</em> as well as the <em>elasticsearch</em> output:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -e 'input { stdin { } } output { elasticsearch { host =&gt; localhost } stdout { } }'</code></pre>
</div></div>
<div class="paragraph"><p>Typing a phrase will now echo back to your terminal, as well as save in Elasticsearch! (Feel free to verify this using curl or elasticsearch-kopf).</p></div>
</div>
<div class="sect2">
<h3 id="_default_daily_indices">Default - Daily Indices</h3>
<div class="paragraph"><p>You might notice that logstash was smart enough to create a new index in Elasticsearch&#8230; The default index name is in the form of <em>logstash-YYYY.MM.DD</em>, which essentially creates one index per day. At midnight (GMT?), logstash will automagically rotate the index to a fresh new one, with the new current day&#8217;s timestamp. This allows you to keep windows of data, based on how far retroactively you&#8217;d like to query your log data. Of course, you can always archive (or re-index) your data to an alternate location, where you are able to query further into the past. If you&#8217;d like to simply delete old indices after a certain time period, you can use the <a href="https://github.com/elasticsearch/curator">Elasticsearch Curator tool</a>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_moving_on">Moving On</h2>
<div class="sectionbody">
<div class="paragraph"><p>Now you&#8217;re ready for more advanced configurations. At this point, it makes sense for a quick discussion of some of the core features of logstash, and how they interact with the logstash engine.</p></div>
<div class="sect2">
<h3 id="_the_life_of_an_event">The Life of an Event</h3>
<div class="paragraph"><p>Inputs, Outputs, Codecs and Filters are at the heart of the logstash configuration. By creating a pipeline of event processing, logstash is able to extract the relevant data from your logs and make it available to elasticsearch, in order to efficiently query your data. To get you thinking about the various options available in Logstash, let&#8217;s discuss some of the more common configurations currently in use. For more details, read about <a href="http://logstash.net/docs/1.2.2/life-of-an-event">the Logstash event pipeline</a>.</p></div>
<div class="sect3">
<h4 id="_inputs">Inputs</h4>
<div class="paragraph"><p>Inputs are the mechanism for passing log data to logstash. Some of the more useful, commonly-used ones are:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>file</strong>: reads from a file on the filesystem, much like the UNIX command "tail -0a"
</p>
</li>
<li>
<p>
<strong>syslog</strong>: listens on the well-known port 514 for syslog messages and parses according to RFC3164 format
</p>
</li>
<li>
<p>
<strong>redis</strong>: reads from a redis server, using both redis channels and also redis lists. Redis is often used as a "broker" in a centralized logstash installation, which queues logstash events from remote logstash "shippers".
</p>
</li>
<li>
<p>
<strong>lumberjack</strong>: processes events sent in the lumberjack protocol. Now called <a href="https://github.com/elasticsearch/logstash-forwarder">logstash-forwarder</a>.
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_filters">Filters</h4>
<div class="paragraph"><p>Filters are used as intermediary processing devices in the Logstash chain. They are often combined with conditionals in order to perform a certain action on an event, if it matches particular criteria. Some useful filters:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>grok</strong>: parses arbitrary text and structure it. Grok is currently the best way in logstash to parse unstructured log data into something structured and queryable. With 120 patterns shipped built-in to logstash, it&#8217;s more than likely you&#8217;ll find one that meets your needs!
</p>
</li>
<li>
<p>
<strong>mutate</strong>: The mutate filter allows you to do general mutations to fields. You can rename, remove, replace, and modify fields in your events.
</p>
</li>
<li>
<p>
<strong>drop</strong>: drop an event completely, for example, <em>debug</em> events.
</p>
</li>
<li>
<p>
<strong>clone</strong>: make a copy of an event, possibly adding or removing fields.
</p>
</li>
<li>
<p>
<strong>geoip</strong>: adds information about geographical location of IP addresses (and displays amazing charts in kibana)
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_outputs">Outputs</h4>
<div class="paragraph"><p>Outputs are the final phase of the logstash pipeline. An event may pass through multiple outputs during processing, but once all outputs are complete, the event has finished its execution. Some commonly used outputs include:</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>elasticsearch</strong>: If you&#8217;re planning to save your data in an efficient, convenient and easily queryable format&#8230; Elasticsearch is the way to go. Period. Yes, we&#8217;re biased :)
</p>
</li>
<li>
<p>
<strong>file</strong>: writes event data to a file on disk.
</p>
</li>
<li>
<p>
<strong>graphite</strong>: sends event data to graphite, a popular open source tool for storing and graphing metrics. <a href="http://graphite.wikidot.com/">http://graphite.wikidot.com/</a>
</p>
</li>
<li>
<p>
<strong>statsd</strong>: a service which "listens for statistics, like counters and timers, sent over UDP and sends aggregates to one or more pluggable backend services". If you&#8217;re already using statsd, this could be useful for you!
</p>
</li>
</ul></div>
</div>
<div class="sect3">
<h4 id="_codecs">Codecs</h4>
<div class="paragraph"><p>Codecs are basically stream filters which can operate as part of an input, or an output. Codecs allow you to easily separate the transport of your messages from the serialization process. Popular codecs include <em>json</em>, <em>msgpack</em> and <em>plain</em> (text).</p></div>
<div class="ulist"><ul>
<li>
<p>
<strong>json</strong>: encode / decode data in JSON format
</p>
</li>
<li>
<p>
<strong>multiline</strong>: Takes multiple-line text events and merge them into a single event, e.g. java exception and stacktrace messages
</p>
</li>
</ul></div>
<div class="paragraph"><p>For the complete list of (current) configurations, visit the logstash "plugin configuration" section of the <a href="http://logstash.net/docs/1.2.2/">logstash documentation page</a>.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_fun_with_logstash">More fun with Logstash</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_persistent_configuration_files">Persistent Configuration files</h3>
<div class="paragraph"><p>Specifying configurations on the command line using <em>-e</em> is only so helpful, and more advanced setups will require more lengthy, long-lived configurations. First, let&#8217;s create a simple configuration file, and invoke logstash using it. Create a file named "logstash-simple.conf" and save it in the same directory as the logstash flatjar.</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-simple.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input { stdin { } }
output {
  elasticsearch { host =&gt; localhost }
  stdout { codec =&gt; rubydebug }
}</code></pre>
</div></div>
<div class="paragraph"><p>Then, run this command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -f logstash-simple.conf</code></pre>
</div></div>
<div class="paragraph"><p>Et voil√†! Logstash will read in the configuration file you just created and run as in the example we saw earlier. Note that we used the <em>-f</em> to read in the file, rather than the <em>-e</em> to read the configuration from the command line. This is a very simple case, of course, so let&#8217;s move on to some more complex examples.</p></div>
</div>
<div class="sect2">
<h3 id="_filters_2">Filters</h3>
<div class="paragraph"><p>Filters are an in-line processing mechanism which provide the flexibility to slice and dice your data to fit your needs. Let&#8217;s see one in action, namely the <strong>grok filter</strong>.</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-filter.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input { stdin { } }

filter {
  grok {
    match =&gt; { "message" =&gt; "%{COMBINEDAPACHELOG}" }
  }
  date {
    match =&gt; [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]
  }
}

output {
  elasticsearch { host =&gt; localhost }
  stdout { codec =&gt; rubydebug }
}</code></pre>
</div></div>
<div class="paragraph"><p>Run the logstash jar file with this configuration:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -f logstash-filter.conf</code></pre>
</div></div>
<div class="paragraph"><p>Now paste this line into the terminal (so it will be processed by the stdin input):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>127.0.0.1 - - [11/Dec/2013:00:01:45 -0800] "GET /xampp/status.php HTTP/1.1" 200 3891 "http://cadenza/xampp/navi.php" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:25.0) Gecko/20100101 Firefox/25.0"</code></pre>
</div></div>
<div class="paragraph"><p>You should see something returned to STDOUT which looks like this:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>{
        "message" =&gt; "127.0.0.1 - - [11/Dec/2013:00:01:45 -0800] \"GET /xampp/status.php HTTP/1.1\" 200 3891 \"http://cadenza/xampp/navi.php\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:25.0) Gecko/20100101 Firefox/25.0\"",
     "@timestamp" =&gt; "2013-12-11T08:01:45.000Z",
       "@version" =&gt; "1",
           "host" =&gt; "cadenza",
       "clientip" =&gt; "127.0.0.1",
          "ident" =&gt; "-",
           "auth" =&gt; "-",
      "timestamp" =&gt; "11/Dec/2013:00:01:45 -0800",
           "verb" =&gt; "GET",
        "request" =&gt; "/xampp/status.php",
    "httpversion" =&gt; "1.1",
       "response" =&gt; "200",
          "bytes" =&gt; "3891",
       "referrer" =&gt; "\"http://cadenza/xampp/navi.php\"",
          "agent" =&gt; "\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:25.0) Gecko/20100101 Firefox/25.0\""
}</code></pre>
</div></div>
<div class="paragraph"><p>As you can see, logstash (with help from the grok filter) was able to parse the log line (which happens to be in Apache "combined log" format) and break it up into many different discrete bits of information. This will be extremely useful later when we start querying and analyzing our log data&#8230; for example, we&#8217;ll be able to run reports on HTTP response codes, IP addresses, referrers, etc. very easily. There are quite a few grok patterns included with logstash out-of-the-box, so it&#8217;s quite likely if you&#8217;re attempting to parse a fairly common log format, someone has already done the work for you. For more details, see the list of <a href="https://github.com/logstash/logstash/blob/master/patterns/grok-patterns">logstash grok patterns</a> on github.</p></div>
<div class="paragraph"><p>The other filter used in this example is the <strong>date</strong> filter. This filter parses out a timestamp and uses it as the timestamp for the event (regardless of when you&#8217;re ingesting the log data). You&#8217;ll notice that the @timestamp field in this example is set to December 11, 2013, even though logstash is ingesting the event at some point afterwards. This is handy when backfilling logs, for example&#8230; the ability to tell logstash "use this value as the timestamp for this event".</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_useful_examples">Useful Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_apache_logs_from_files">Apache logs (from files)</h3>
<div class="paragraph"><p>Now, let&#8217;s configure something actually <strong>useful</strong>&#8230; apache2 access log files! We are going to read the input from a file on the localhost, and use a <strong>conditional</strong> to process the event according to our needs. First, create a file called something like <em>logstash-apache.conf</em> with the following contents (you&#8217;ll need to change the log&#8217;s file path to suit your needs):</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-apache.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input {
  file {
    path =&gt; "/Users/kurt/logs/access_log"
    start_position =&gt; beginning
  }
}

filter {
  if [path] =~ "access" {
    mutate { replace =&gt; { "type" =&gt; "apache_access" } }
    grok {
      match =&gt; { "message" =&gt; "%{COMBINEDAPACHELOG}" }
    }
  }
  date {
    match =&gt; [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]
  }
}

output {
  elasticsearch {
    host =&gt; localhost
  }
  stdout { codec =&gt; rubydebug }
}</code></pre>
</div></div>
<div class="paragraph"><p>Then, create the file you configured above (in this example, "/Applications/XAMPP/logs/access_log") with the following log lines as contents (or use some from your own webserver):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>71.141.244.242 - kurt [18/May/2011:01:48:10 -0700] "GET /admin HTTP/1.1" 301 566 "-" "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.3) Gecko/20100401 Firefox/3.6.3"
134.39.72.245 - - [18/May/2011:12:40:18 -0700] "GET /favicon.ico HTTP/1.1" 200 1189 "-" "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729; InfoPath.2; .NET4.0C; .NET4.0E)"
98.83.179.51 - - [18/May/2011:19:35:08 -0700] "GET /css/main.css HTTP/1.1" 200 1837 "http://www.safesand.com/information.htm" "Mozilla/5.0 (Windows NT 6.0; WOW64; rv:2.0.1) Gecko/20100101 Firefox/4.0.1"</code></pre>
</div></div>
<div class="paragraph"><p>Now run it with the -f flag as in the last example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -f logstash-apache.conf</code></pre>
</div></div>
<div class="paragraph"><p>You should be able to see your apache log data in Elasticsearch now! You&#8217;ll notice that logstash opened the file you configured, and read through it, processing any events it encountered. Any additional lines logged to this file will also be captured, processed by logstash as events and stored in Elasticsearch. As an added bonus, they will be stashed with the field "type" set to "apache_access" (this is done by the type &#8658; "apache_access" line in the input configuration).</p></div>
<div class="paragraph"><p>In this configuration, logstash is only watching the apache access_log, but it&#8217;s easy enough to watch both the access_log and the error_log (actually, any file matching <em>*log</em>), by changing one line in the above configuration, like this:</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-apache-wildcard.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input {
  file {
    path =&gt; "/Applications/XAMPP/logs/*_log"
...</code></pre>
</div></div>
<div class="paragraph"><p>Now, rerun logstash, and you will see both the error and access logs processed via logstash. However, if you inspect your data (using elasticsearch-kopf, perhaps), you will see that the access_log was broken up into discrete fields, but not the error_log. That&#8217;s because we used a "grok" filter to match the standard combined apache log format and automatically split the data into separate fields. Wouldn&#8217;t it be nice <strong>if</strong> we could control how a line was parsed, based on its format? Well, we can&#8230;</p></div>
<div class="paragraph"><p>Also, you might have noticed that logstash did not reprocess the events which were already seen in the access_log file. Logstash is able to save its position in files, only processing new lines as they are added to the file. Neat!</p></div>
</div>
<div class="sect2">
<h3 id="_conditionals">Conditionals</h3>
<div class="paragraph"><p>Now we can build on the previous example, where we introduced the concept of a <strong>conditional</strong>. A conditional should be familiar to most logstash users, in the general sense. You may use <em>if</em>, <em>else if</em> and <em>else</em> statements, as in many other programming languages. Let&#8217;s label each event according to which file it appeared in (access_log, error_log and other random files which end with "log").</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-apache-error.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input {
  file {
    path =&gt; "/Applications/XAMPP/logs/*_log"
  }
}

filter {
  if [path] =~ "access" {
    type =&gt; "apache_access"
    grok {
      match =&gt; { "message" =&gt; "%{COMBINEDAPACHELOG}" }
    }
    date {
      match =&gt; [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]
    }
  } else if [path] =~ "error" {
    type =&gt; "apache_error"
  } else {
    type =&gt; "random_logs"
  }
}

output {
  elasticsearch { host =&gt; localhost }
  stdout { codec =&gt; rubydebug }
}</code></pre>
</div></div>
<div class="paragraph"><p>You&#8217;ll notice we&#8217;ve labeled all events using the "type" field, but we didn&#8217;t actually parse the "error" or "random" files&#8230; There are so many types of error logs that it&#8217;s better left as an exercise for you, depending on the logs you&#8217;re seeing.</p></div>
</div>
<div class="sect2">
<h3 id="_syslog">Syslog</h3>
<div class="paragraph"><p>OK, now we can move on to another incredibly useful example: <strong>syslog</strong>. Syslog is one of the most common use cases for Logstash, and one it handles exceedingly well (as long as the log lines conform roughly to RFC3164 :). Syslog is the de facto UNIX networked logging standard, sending messages from client machines to a local file, or to a centralized log server via rsyslog. For this example, you won&#8217;t need a functioning syslog instance; we&#8217;ll fake it from the command line, so you can get a feel for what happens.</p></div>
<div class="paragraph"><p>First, let&#8217;s make a simple configuration file for logstash + syslog, called <em>logstash-syslog.conf</em>.</p></div>
<div class="paragraph"><p><a href="http://foo.com">logstash-syslog.conf</a></p></div>
<div class="listingblock">
<div class="content">
<pre><code>input {
  tcp {
    port =&gt; 5000
    type =&gt; syslog
  }
  udp {
    port =&gt; 5000
    type =&gt; syslog
  }
}

filter {
  if [type] == "syslog" {
    grok {
      match =&gt; { "message" =&gt; "%{SYSLOGTIMESTAMP:syslog_timestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program}(?:\[%{POSINT:syslog_pid}\])?: %{GREEDYDATA:syslog_message}" }
      add_field =&gt; [ "received_at", "%{@timestamp}" ]
      add_field =&gt; [ "received_from", "%{host}" ]
    }
    syslog_pri { }
    date {
      match =&gt; [ "syslog_timestamp", "MMM  d HH:mm:ss", "MMM dd HH:mm:ss" ]
    }
  }
}

output {
  elasticsearch { host =&gt; localhost }
  stdout { codec =&gt; rubydebug }
}</code></pre>
</div></div>
<div class="paragraph"><p>Run it as normal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>java -jar logstash-1.3.3-flatjar.jar agent -f logstash-syslog.conf</code></pre>
</div></div>
<div class="paragraph"><p>Normally, a client machine would connect to the logstash instance on port 5000 and send its message. In this simplified case, we&#8217;re simply going to telnet to logstash and enter a log line (similar to how we entered log lines into STDIN earlier). First, open another shell window to interact with the logstash syslog input and type the following command:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>telnet localhost 5000</code></pre>
</div></div>
<div class="paragraph"><p>You can copy and paste the following lines as samples (feel free to try some of your own, but keep in mind they might not parse if the grok filter is not correct for your data):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Dec 23 12:11:43 louis postfix/smtpd[31499]: connect from unknown[95.75.93.154]</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Dec 23 14:42:56 louis named[16000]: client 199.48.164.7#64817: query (cache) 'amsterdamboothuren.com/MX/IN' denied</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Dec 23 14:30:01 louis CRON[619]: (www-data) CMD (php /usr/share/cacti/site/poller.php &gt;/dev/null 2&gt;/var/log/cacti/poller-error.log)</code></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><code>Dec 22 18:28:06 louis rsyslogd: [origin software="rsyslogd" swVersion="4.2.0" x-pid="2253" x-info="http://www.rsyslog.com"] rsyslogd was HUPed, ty
pe 'lightweight'.</code></pre>
</div></div>
<div class="paragraph"><p>Now you should see the output of logstash in your original shell as it processes and parses messages!</p></div>
<div class="listingblock">
<div class="content">
<pre><code>{
                 "message" =&gt; "Dec 23 14:30:01 louis CRON[619]: (www-data) CMD (php /usr/share/cacti/site/poller.php &gt;/dev/null 2&gt;/var/log/cacti/poller-error.log)",
              "@timestamp" =&gt; "2013-12-23T22:30:01.000Z",
                "@version" =&gt; "1",
                    "type" =&gt; "syslog",
                    "host" =&gt; "0:0:0:0:0:0:0:1:52617",
        "syslog_timestamp" =&gt; "Dec 23 14:30:01",
         "syslog_hostname" =&gt; "louis",
          "syslog_program" =&gt; "CRON",
              "syslog_pid" =&gt; "619",
          "syslog_message" =&gt; "(www-data) CMD (php /usr/share/cacti/site/poller.php &gt;/dev/null 2&gt;/var/log/cacti/poller-error.log)",
             "received_at" =&gt; "2013-12-23 22:49:22 UTC",
           "received_from" =&gt; "0:0:0:0:0:0:0:1:52617",
    "syslog_severity_code" =&gt; 5,
    "syslog_facility_code" =&gt; 1,
         "syslog_facility" =&gt; "user-level",
         "syslog_severity" =&gt; "notice"
}</code></pre>
</div></div>
<div class="paragraph"><p>Congratulations! You&#8217;re well on your way to being a real Logstash power user. You should be comfortable configuring, running and sending events to Logstash, but there&#8217;s much more to explore.</p></div>
<div class="ulist"><ul>
<li>
<p>
<a href="http://foo.com">Blah 1</a>
</p>
</li>
<li>
<p>
<a href="http://foo.com">Blah 2</a>
</p>
</li>
<li>
<p>
<a href="http://foo.com">Blah 3</a>
</p>
</li>
<li>
<p>
<a href="http://foo.com">Blah 4</a>
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2014-02-12 17:29:05 PST
</div>
</div>
</body>
</html>
